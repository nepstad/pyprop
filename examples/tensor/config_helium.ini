[Representation]
rank = 3
type = core.CombinedRepresentation_3
representation0 = "RadialRepresentation"
representation1 = "RadialRepresentation"
representation2 = "AngularRepresentation"

[AngularRepresentation]
type = core.CoupledSphericalHarmonicRepresentation
index_iterator = DefaultCoupledIndexIterator(lmax=6, L=0)
#index_iterator = [CoupledIndex(0,0,0,0), CoupledIndex(1,1,0,0)]

[RadialRepresentation]
type = core.BSplineRepresentation
init_function = InitBSpline
xmin = 0.0
xmax = 10.0
xsize = 20
gamma = 2.0
joinpoint = 0
bpstype = 'linear'
continuity = 'zero'
xpartition = 5
order = 5
quad_order_additional = 0
projection_algorithm = 0
lapack_algorithm = 1

[RadialRepresentation2]
type = core.BSplineRepresentation
init_function = InitBSpline
xmin = 0.0
xmax = 10.0
xsize = 8
gamma = 2.0
joinpoint = 0
bpstype = 'linear'
continuity = 'zero'
xpartition = 5
order = 3
quad_order_additional = 0
projection_algorithm = 0
lapack_algorithm = 1



[InitialCondition]
type = InitialConditionType.Function
function = lambda conf, x: 1.0 * (x[0] == 0)

[Propagation]
potential_evaluation = []
grid_potential_list = ["RadialKineticEnergy1", "RadialKineticEnergy2", "AngularKineticEnergy", "ElectronicCouplingPotential", "CoulombPotential"]
#grid_potential_list = ["ElectronicCouplingPotential"]
#propagator = RungeKuttaPropagator
#propagator = OdePropagator
#propagator = ExpokitPropagator
propagator = PamPropagator
#integrator_type = IntegratorType.IntegratorRK8PD
#absolute_error = 1e-6
#relative_error = 1e-6
base_propagator = BasisPropagator
timestep = -0.01j
duration = 4*pi
renormalization = True
krylov_basis_size = 15
#krylov_tolerance = 0
#krylov_norm = 1e6

[RadialKineticEnergy1]
classname = "KineticEnergyPotential"
geometry0 = "Banded"
geometry1 = "Banded"
geometry2 = "Identity" 
differentiation0 = 2
differentiation1 = 0
differentiation2 = 0
mass = 1

[RadialKineticEnergy2]
classname = "KineticEnergyPotential"
geometry0 = "Banded"
geometry1 = "Banded"
geometry2 = "Identity"
differentiation0 = 0
differentiation1 = 2
differentiation2 = 0
mass = 1

[AngularKineticEnergy]
classname = "CoupledSphericalKineticEnergyEvaluator"
geometry0 = "Banded"
geometry1 = "Banded"
geometry2 = "Diagonal"
debug_potential = True
mass = 1

[ElectronicCouplingPotential]
classname = "CustomPotentialEvaluationR12"
geometry0 = "Banded"
geometry1 = "Banded"
geometry2 = "SelectionRule_R12"
debug_potential = True

[CoulombPotential]
classname = "CoupledSphericalCoulombPotential"
geometry0 = "Banded"
geometry1 = "Banded"
geometry2 = "Identity" 
z = 2

[Arpack]
krylov_basis_size = 20
krylov_tolerance = 0
krylov_eigenvalue_count = 5
krylov_max_iteration_count = 500
krylov_use_random_start = True
counter_on = True


