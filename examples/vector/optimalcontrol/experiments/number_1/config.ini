[Representation]
type = core.VectorRepresentation
rank = 1
vector_size = 50

[InitialCondition]
type = InitialConditionType.Function
function = lambda conf, x: (x[0] == 0) * 1.0

[FinalState]
type = "vector"
states = [2]
population = [1]

[Krotov]
#control_functions = ["ElectricControlX", "ElectricControlY"]
control_functions = ["ElectricControlX"]
control_cutoff = inf
energy_penalty = 40.0
max_iterations = 2
yield_requirement = 1.0
update_backwards = False
perturb_control = 1e-15

[ZhuRabitz]
#control_functions = ["ElectricControlX", "ElectricControlY"]
control_functions = ["ElectricControlX"]
h0 = ["Potential1D"]
control_cutoff = inf
energy_penalty = 40.0
max_iterations = 15
yield_requirement = 1.0
update_backwards = True

[Degani]
#control_functions = ["ElectricControlX", "ElectricControlY"]
control_functions = ["ElectricControlX"]
h0 = ["Potential1D"]
control_cutoff = inf
energy_penalty = 40.0
max_iterations = 15
yield_requirement = 1.0
update_backwards = True

[ElectricControlX]
type = PotentialType.Matrix
matrix_type = MatrixType.Dense
filename = 'input/matrixelements_real.h5'
dataset = '/electricfield/xpolarized'
time_function = lambda conf, t: conf.strength * conf.scaling
scaling = 3.44336611701300
strength = 0.01

[ElectricControlY]
type = PotentialType.Matrix
matrix_type = MatrixType.Dense
filename = 'input/matrixelements_real.h5'
dataset = '/electricfield/ypolarized'
time_function = lambda conf, t: conf.strength * conf.scaling
scaling = 3.44336611701300
strength = 0.0

[Potential1D]
type = PotentialType.Static
storage_model = StaticStorageModel.StorageValue
function = GetDiagonalElements
filename = 'input/matrixelements_real.h5'
dataset = '/Energies'
scaling = 1.0
size = 50

[Propagation]
base_propagator = VectorPropagator
propagator = OdePropagator
#potential_evaluation = ["Potential1D", "ElectricControlX", "ElectricControlY"]
potential_evaluation = ["Potential1D", "ElectricControlX"]
timestep = 10
duration = 100.0
renormalization = False
silent = True
absolute_error = 1e-11
relative_error = 1e-11

[Distribution]
proc_array_rank = 1
initial_distribution = array([0])
